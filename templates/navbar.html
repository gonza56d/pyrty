{% load static %}

<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-1">

    <a class="navbar-brand ml-3" href="{% url 'forums' %}"><img src="{% static 'python.png' %}" style="height:40px;width:40px;"> Pyrty</a>
    
    {% if user.is_authenticated %}
    <form class="sm-inline-block d-inline-block d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0"
        action="{% url 'logout' %}" method="GET" enctype="application/x-www-form-urlencoded">
        {% if request.messages %}
        <a href="#"><button type="button" class="btn btn-warning"><i class="fa fa-envelope"></i></button></a>
        {% else %}
        <a href="#"><button type="button" class="btn btn-info"><i class="fa fa-envelope"></i></button></a>
        {% endif %}
        {% if request.notifications %}
        <a href="#"><button type="button" class="btn btn-warning"><i class="fas fa-bell"></i></button></a>
        {% else %}
        <a href="#"><button type="button" class="btn btn-info"><i class="fas fa-bell"></i></button></a>
        {% endif %}
        <a href="{% url 'profile' request.user %}"><b style="color:white;">@{{ request.user }}</b></a>
        <button class="btn btn-outline-info mx-1"><i class="fas fa-door-open"></i></button>
    </form>

    {% else %}

    <form class="sm-inline-block d-inline-block d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0"
        action="{% url 'login' %}" method="POST" enctype="application/x-www-form-urlencoded">{% csrf_token %}
        <div class="form-inline">
            {{ request.login_form.errors }}
            {% for field in request.login_form %}
                <span class="px-1">{{ field }}</span>
            {% endfor %}
            <button class="btn btn-outline-info mx-1"><i class="fas fa-rocket"></i></button>
            <a href="{% url 'signup' %}" class="btn btn-outline-info mx-1" style="color:white">Sign up</a>
        </div>
    </form>
    {% endif %}

</header>