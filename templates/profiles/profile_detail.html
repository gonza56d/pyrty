{% extends 'main.html' %}

{% load i18n %}

{% block content %}

<div class="breadcrumb">
	<div class="row px-4 col-12">
		<div class="form-group col-6">
			<div class="form-inline">
				<h2><b>User:</b> @{{ object.user }}</h2>
				<button type="button" id="btn_new_message" class="btn btn-warning ml-3 mb-2" data-toggle="modal" data-target="#modal_new_message">
					<i class="fa fa-envelope"></i>
				</button>
			</div>
			{% translate 'Rank' %}: {{ object.get_rank }} - {% translate 'Reputation' %}: {{ object.reputation }}
			<hr/>
			<div>
				<b>{% translate 'First name' %}:</b> <input value="{{ object.first_name }}" disabled="" class="form-control">
			</div>
			<div>
				<b>{% translate 'Last name' %}:</b> <input value="{{ object.last_name }}" disabled="" class="form-control">
			</div>
			<div>
				<b>{% translate 'Birthday' %}:</b> <input type="date" value="{% if object.birthday is not None %}{{ object.birthday }}{% endif %}" disabled="" class="form-control">
			</div>
			<div>
				<b>{% translate 'Bio' %}:</b>
				<textarea rows="5" cols="40" class="form-control" disabled="">{{ object.bio }}</textarea>
			</div>
		</div>
		<div class="col-6">

			<!-- display profile's last 10 posts -->
			<h3 class="col-12">{% translate 'Profile last posts' %}:</h3>
			<ul class="list-group">
				{% for post in profile_posts %}
				<span class="col-12">
					<li class="list-group-item inline">
						<b><a style="color:yellow;" href="{% url 'post' post.pk %}">{{ post }}</a></b> on <a style="color:yellow;" href="{% url 'forum' post.subforum.forum %}">{{ post.subforum.forum }}</a> > <a style="color:yellow;" href="{% url 'subforum' post.subforum %}">{{ post.subforum }}</a>
				</span>
				{% endfor %}
			</ul>
			{% if not profile_posts %}
			<span class="col-12">{% translate 'This profile has not posted anything yet.' %}</span>
			{% endif %}
			<hr/>
			<!-- display profile's last 10 comments -->
			<h3 class="col-12">{% translate 'Profile last comments' %}:</h3>
			<ul class="list-group">
				{% for comment in profile_comments %}
				<span class="col-12">
					<li class="list-group-item inline">
						<b>{{ comment }}</b> on <a style="color:yellow;" href="{% url 'post' comment.post.pk %}">{{ comment.post }}</a> - {{ comment.created }}
					</li>
				</span>
				{% endfor %}
			</ul>
			{% if not profile_comments %}
			<span class="col-12">{% translate 'This profile has not commented on any post yet.' %}</span>
			{% endif %}

		</div>
	</div>
</div>

<!-- new message modal -->
<div id="modal_new_message" style="color:black;" class="modal fade" role="dialog" aria-hidden="true" tabindex="-1">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<form id="new_private_message" class="modal-content" method="POST" enctype="application/x-www-form-urlencoded" action="{% url 'create_private_message' %}">{% csrf_token %}
			<div class="modal-header">
				{% translate 'New Private Message' %}
			</div>
			<div class="modal-body">
				<p>{% translate 'To' %}: @{{ object.user }}</p>
				<p>{% translate 'Message' %}:</p>
				{% for field in private_message_form %}
				{{ field }}
				{% endfor %}
			</div>
			<div class="modal-footer">
				<button class="btn btn-info">{% translate 'Send' %}</button>
			</div>
		</div>
	</div>
</div>

{% endblock %}